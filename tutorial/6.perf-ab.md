
### 1. 인그레스 엔드포인트 조회 ###
```
$ kubectl describe ingress spring-ai | grep Address | cut -d ':' -f 2 | sed 's/ //g'
```
spring-ai-alb-343798137.ap-northeast-2.elb.amazonaws.com

### 2. 부하테스트 ###

spring-ai 의 파드 수를 4개에서 1개로 줄인다.
```
kubectl scale --replicas=1 deployment spring-ai
```

![](https://github.com/gnosia93/eks-grv-mig/blob/main/tutorial/images/ec2-3.png)
arm-perf 인스턴스로 로그인 하여 아래 명령어로 성능 테스트를 수행한다. <INGRESS_ADDR> 값은 위에서 조회된 주소로 수정한다.  
```
ubuntu$ ab -n 40000 -c 100 <INGRESS_ADDR>
```

![](https://github.com/gnosia93/eks-grv-mig/blob/main/tutorial/images/ab-1.png)


